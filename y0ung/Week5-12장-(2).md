# Week 5 (8/1~ 8/7)
###### `JavaScript`

## 12. 함수

<br/>

### 📌 참조에 의한 전달과 외부 상태의 변경

함수의 인자로 원시 데이터 타입이 전달될 경우,
함수 body에서 매개변수에 재할당이 일어나도 원본 값이 훼손되지 않는다.

하지만 참조 데이터 타입이 인자로 전달될 경우,
참조 값이 복사되어 전달되기 때문에 함수 body에서 객체를 변경할 경우 원본이 훼손된다.

함수 외부에서 함수 내부로 전달된 참조값에 의해 원본 객체가 변경되는 부수 효과(side effect)가 발생한다.
-> 상태 변화를 추적하기 어려워진다.
-> 의도치 않은 객체 변경을 추적하는 것은 어려운 일이다.
-> **옵저버 패턴** 등을 통한 대처가 필요하다.

외부 상태가 변경되는 side effect를 방지하기 위해 객체를 불변 객체(immutable object)로 만들어서 사용한다.
객체를 완전히 복제하는 **deep copy**를 통해 새로운 객체를 생성하고, 재할당을 통해 교체한다.

<br/>
<br/>

### 📌 다양한 함수의 형태


#### 1. 즉시 실행 함수
함수의 정의와 동시에 호출되는 함수

- 단 한 번만 호출되며 다시 호출할 수 없다.

- 익명 함수를 사용하는 것이 일반적이다.
기명 함수를 사용할 경우, 함수 리터럴로 평가되어 식별자를 호출할 수 없다.

- 그룹 연산자`(...)`로 감싸야 한다.
함수 리터럴을 평가해서 함수 객체를 생성하기 위함이다.

- 변수에 즉시 실행 함수를 할당하면, 함수의 반환값이 할당된다.

```jsx
(function (){
	const a = 3;
	const b = 5;
	return a * b;
}());


(function (a, b){
	return a * b;
}(3, 5));
```

<br/>

#### 2. 재귀 함수
자기 자신을 호출하는 함수

- 반복되는 처리를 반복문 없이 구현할 수 있다.

- 탈출 조건(base case)가 없으면 stack overflow 에러가 발생한다.

<br/>

#### 3. 중첩 함수

함수 내부에 정의된 함수

- 일반적으로 외부 함수를 돕는 헬퍼 함수의 역할을 한다.

<br/>

#### 4. 콜백 함수

함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수
-> 매개변수로 콜백함수를 전달받는 함수는 **고차함수**라고 한다.

(대부분의) 고차함수는 매개변수를 통해 전달받은 콜백 함수의 호출 시점을 결정해서 호출한다.
콜백함수는 고차함수에 의해 호출되며, 필요에 따라 인수를 전달받는다.

비동기 처리, 배열 내장 메서드 등에서 활용된다.
<br/>

#### 5. 순수 함수와 비순수 함수

순수 함수는 동일한 인수가 전달되면 언제나 **동일한 값을 반환**하는 함수다.
외부 상태에 의존하지 않고, **매개변수**를 통해 전달된 인수에 의존한다.
**외부 상태를 변경하지 않는다.**
-> 인수를 변경하지 않아 인수의 불변성을 유지한다.

비순수 함수는 함수 외부 상태에 따라 **반환값이 달라진다.**
**외부 상태에 의존**하거나 외부 상태를 **변경**한다.
(또는 내부 상태가 호출될 때마다 변화하는 값이다.)

인수를 전달받지 않고, 외부 상태를 직접 참조하면 외부 상태에 의존성을 갖는다.
또는 인수로 외부에서 정의된 객체를 전달받으면 외부 상태를 변경하게 된다.

비순수 함수를 최대한 줄이는 것은 부수 효과를 최대한 줄이는 것과 같다.

> 함수형 프로그래밍은 순수 함수와 보조 함수의 조합을 통해 외부 상태를 변경하는 부수 효과를 최소화해서 불변성을 지향하는 프로그래밍 패러다임이다.
> 조건문과 반복문을 제거해서 복잡성을 해결하고, 변수 사용을 억제하거나 생명 주기를 최소화해서 상태 변경을 피한다.
> 따라서 프로그래밍의 안정성을 높이기 위한 목적이 있다.
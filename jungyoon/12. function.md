# 12 함수

# 🔗 함수

함수는 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.

자바스크립트의 함수는 객체 타입의 값이다.

</br>

- 함수리터럴

```jsx
//변수에 함수 리터럴을 할당
var f = function add(x, y) {
  return x + y;
};
```

- 함수 선언문

```jsx
//함수 선언문은 함수 이름을 생략할 수 없다.
function (x,y){
	return x + y;
}
```

</br>

함수 선언은 표현식이 아닌 문이다.

- 자바스크립트 엔진은 생성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고, 함수 객체를 할당한다.
- 함수는 함수 이름으로 호출하는 것이 아니라 함수 객체를 가르키는 식별자로 호출한다.

### ✒️ 함수 생성 시점과 함수 호이스팅

- 함수 선언문이 코드의 선두로 끌어 올려진 것 처럼 동작하는 자바스크립트 고유의 특징을 함수 호이스팅이라 한다.
- var 키워드로 선언된 변수는 undefined로 초기화되고, 함수 선언문을 통해 암묵적으로 생성된 식별자는 함수 객체로 초기화된다.
- 변수 할당문의 값은 할당문이 실행되는 시점, 런타임에 평가되므로 함수 표현식의 함수 리터럴도 할당문이 실행되는 시점에 평가되어 함수 객체가 된다.
- 함수 표현식으로 함수를 정의하면 함수 호이스팅이 발생하는 것이 아니라 변수 호이스팅이 발생한다.

</br>

### ✒️  화살표 함수

화살표 함수는 익명함수로 정의한다. 생성자 함수로 사용할 수 없으며, this 바인딩 방식이 다르고, prototype 프로퍼티가 없으며 arguments 객체를 생성하지 않는다.

```jsx
const add = (x, y) => x + y;
console.log(add(2, 5)); //7
```

</br>

# 🔗  함수 호출

매개변수와 인수

- 매개변수(인자)를 통해 인수를 전달한다. 인수는 값으로 평가될 수 있는 표현식이어야 한다.
- 매개변수보다 인수가 더 많은 경우 초과된 인수는 무시된다.
- 매개변수는 최대 3개 이상을 넘지 않는 것을 권장한다.

</br>

### ✒️ 반환문

- 함수는 return 키워드와 표현식으로 이뤄진 반환문을 사용해 실행 결과를 함수 외부로 반환할 수 있다.

</br>

### ✒️ 다양한 함수의 형태

1. 즉시 실행 함수

   - 함수 정의와 동시에 즉시 호출되는 함수이다. 단 한 번만 호출되며 다시 호출 할 수 없다.
   - 일반 함수 처럼 값을 반환할 수 있고 인수를 전달할 수도있다.

2. 재귀함수

   - 함수가 자기 자신을 호출하는 것을 재귀 호출이라 한다. 재귀 함수는 자기 자신을 호출하는 행위, 재귀 호출을 수행하는 함수를 말한다.
   - 자기 자신을 호출하는 재귀 함수를 사용하면 반복되는 처리를 반목문 없이 구현할 수 있다.
   - 재귀함수는 자신을 무한 재귀 호출한다. 재귀 함수 내에는 재귀 호출을 멈출 수 있는 탈출 조건을 반드시 만들어야한다. 탈출 조건이 없으면 함수가 무한 호출되어 스택 오버플로가 발생한다.

3. 중첩함수

   - 함수 내부에 정의된 함수를 중첩 함수 또는 내부 함수라 한다. 중첩 함수는 자신을 포함하는 외부 함수를 돕는 헬퍼 함수의 역할을 한다.

4. 콜백함수

   - 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백 함수라고 하며, 매개 변수를 통해 함수의 외부에서 콜백 함수를 전달받은 함수를 고차 함수라고 한다. 고차 함수는 콜백 함수를 자신의 일부분으로 합성한다.
   - 고차 함수는 매개변수를 통해 전달받은 콜백 함수의 호출 시점을 결정해서 호출한다.
   - 콜백 함수는 고차 함수에 의해 호출되며 이때 고차함수는 필요에 따라 콜백 함수에 인수를 전달할 수 있다.

   ```jsx
   //콜백 함수를 사용하는 고차 함수 map
   var res = [1, 2, 3].map(function (item) {
     return item * 2;
   });

   console.log(res); // [2,4,6]

   //콜백 함수를 사용하는 고차 함수 filter
   res = [1, 2, 3].filter(function (item) {
     return item % 2;
   });

   console.log(res); // [1,3]

   //콜백 함수를 사용하는 고차 함수 reduce
   res = [1, 2, 3].reduce(function (acc, cur) {
     return acc + cur;
   }, 0);

   console.log(res); //6
   ```

5. 순수 함수와 비순수 함수
   - 순수 함수: 동일한 인수가 전달되면 언제나 동일한 값을 반환하는 함수다. 어떤 외부 상태에도 의존하지 않고 오직 매개변수를 통해 함수내부로 전달된 인수에게만 의존해 값을 생성해 반환한다.
   - 비순수 함수: 외부 상태에 따라 반환값이 달라지는 함수. 함수의 외부 상태를 변경하는 부수 효과가 있다.
